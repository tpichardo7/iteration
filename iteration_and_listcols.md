Iteration and List Columns
================

``` r
knitr::opts_chunk$set(
        echo = TRUE,
        warning = FALSE,
  fig.width = 6,
  fig.asp = .6,
  out.width = "90%"
)

theme_set(theme_minimal() +theme(legend.position = "bottom"))

options(
  ggplot2.continuous.color = "viridis",
  ggplot2.continuous.fill = "viridis"
)

scale_color_discrete = scale_colour_viridis_d
scale_fill_discrete = scale_fill_viridis_d
```

## Here’s some lists.

``` r
l = list(
  vec_numeric = 1:4,
  unif_sample = runif(100),
  mat = matrix(1:8, nrow = 2, ncol = 4, byrow = TRUE),
  summary = summary(rnorm(1000))
)

l
```

    ## $vec_numeric
    ## [1] 1 2 3 4
    ## 
    ## $unif_sample
    ##   [1] 0.5154995921 0.0004540875 0.2912927992 0.3798058524 0.2529947257
    ##   [6] 0.9086183673 0.2245790157 0.5199934733 0.1675461850 0.6987519760
    ##  [11] 0.1034088260 0.6236018862 0.1712983544 0.6274983806 0.4483752644
    ##  [16] 0.8520396715 0.9095569698 0.8277475878 0.9480509155 0.7368520093
    ##  [21] 0.9500706941 0.3093785972 0.1032600068 0.6015658134 0.1564403437
    ##  [26] 0.5740353921 0.8216304360 0.8652277251 0.0078339449 0.8399364233
    ##  [31] 0.1312317117 0.5476631166 0.9156660263 0.8392846361 0.8726812701
    ##  [36] 0.6910360800 0.6630472166 0.8545320523 0.8698992599 0.9929481191
    ##  [41] 0.7653113464 0.0792110916 0.5879048207 0.7973367698 0.4461771592
    ##  [46] 0.5742116701 0.2013929128 0.3896890860 0.6155833430 0.5633723694
    ##  [51] 0.4372138630 0.0143573165 0.6503436007 0.1518517402 0.6320725982
    ##  [56] 0.9954312155 0.3745149835 0.8948620658 0.1124175331 0.5267171522
    ##  [61] 0.1753826416 0.7347726361 0.3859659946 0.6346443854 0.5532560588
    ##  [66] 0.4459986789 0.9521534706 0.8250155528 0.7576599231 0.1567964347
    ##  [71] 0.4188990186 0.5507211725 0.4333892190 0.7161307777 0.1224498004
    ##  [76] 0.1890234381 0.2928506939 0.3216915764 0.4760382669 0.1412482138
    ##  [81] 0.3253419581 0.4386206807 0.8918222776 0.1007211003 0.2189741544
    ##  [86] 0.0546950973 0.1392105152 0.2279176638 0.0145764446 0.4144107057
    ##  [91] 0.7020841050 0.6800922414 0.7310991210 0.3038978595 0.5372018020
    ##  [96] 0.8838999234 0.1093910092 0.3671512122 0.7992093058 0.9378502599
    ## 
    ## $mat
    ##      [,1] [,2] [,3] [,4]
    ## [1,]    1    2    3    4
    ## [2,]    5    6    7    8
    ## 
    ## $summary
    ##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
    ## -3.029161 -0.655535  0.002312  0.026825  0.734848  3.474767

``` r
l$mat
```

    ##      [,1] [,2] [,3] [,4]
    ## [1,]    1    2    3    4
    ## [2,]    5    6    7    8

``` r
l[["mat"]][1, 3]
```

    ## [1] 3

``` r
l[[1]]
```

    ## [1] 1 2 3 4

``` r
l[[4]]
```

    ##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
    ## -3.029161 -0.655535  0.002312  0.026825  0.734848  3.474767

``` r
list_norm = 
  list(
    a = rnorm(20, 0, 5),
    b = rnorm(20, 4, 5),
    c = rnorm(20, 0, 10),
    d = rnorm(20, 4, 10)
  )

list_norm[["b"]]
```

    ##  [1]  3.6827049 -7.8299395  2.7441219  3.0013287  9.1389742  3.6297371
    ##  [7]  1.7380961 -6.8212907  4.4778078 -2.3724812 11.3804996  3.4064392
    ## [13]  6.1022889 -0.1721161  9.1850515  5.4229009  2.9134274  0.2671117
    ## [19] 12.0836457  6.1656012

Let’s reuse the function we wrote last time.

``` r
mean_and_sd = function(x) {
  
  mean_x = mean(x)
  sd_x = sd(x)
  
  out_df = 
    tibble(
      mean = mean_x,
      sd = sd_x
    )
  
  return(out_df)
}
```

Let’s use the function to take the mean and sd of all samples

``` r
mean_and_sd(list_norm[["a"]])
```

    ## # A tibble: 1 × 2
    ##     mean    sd
    ##    <dbl> <dbl>
    ## 1 -0.133  4.93

``` r
mean_and_sd(list_norm[["b"]])
```

    ## # A tibble: 1 × 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1  3.41  5.21

``` r
mean_and_sd(list_norm[["c"]])
```

    ## # A tibble: 1 × 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1 -2.38  9.09

``` r
mean_and_sd(list_norm[["d"]])
```

    ## # A tibble: 1 × 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1  5.12  8.09

## Use a for loop

Create output list, and run a for loop

``` r
output = vector("list", length = 4)

for (i in 1:4) {
  
  output[[i]] = mean_and_sd(list_norm[[i]])
  
}
```
